<app-header></app-header>
<!-- detail-product.component.html -->
<div class="container my-5">
  <div class="row g-5">
    <!-- LEFT: Product Images -->
 <div class="col-lg-5">
  <!-- Main Image -->
  <div class="border rounded shadow-sm p-2 mb-3 bg-white">
    <div id="carouselExample" class="carousel slide">
      <div class="carousel-inner">
        <div
          *ngFor="let image of product?.product_images; let i = index"
          class="carousel-item"
          [class.active]="i === currentImageIndex"
        >
          <div class="ratio ratio-1x1">
            <img
              [src]="image.image_url"
              class="img-fluid object-fit-contain"
              alt="Product Image"
            />
          </div>
        </div>
      </div>

      <button
        class="carousel-control-prev"
        type="button"
        (click)="previousImage()"
      >
        <span class="carousel-control-prev-icon"></span>
      </button>

      <button
        class="carousel-control-next"
        type="button"
        (click)="nextImage()"
      >
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
  </div>

  <!-- Thumbnails -->
  <div class="d-flex justify-content-center gap-2 flex-wrap">
    <div
      *ngFor="let image of product?.product_images; let i = index"
      class="thumbnail-item"
      [class.active]="i === currentImageIndex"
      (click)="thumbnailClick(i)"
    >
      <img
        [src]="image.image_url"
        class="img-thumbnail"
        style="width: 70px; height: 70px; object-fit: cover; cursor: pointer"
      />
    </div>
  </div>
</div>


    <!-- RIGHT: Product Info -->
    <div class="col-lg-7">
      <h3 class="fw-bold mb-3">{{ product?.name }}</h3>

      <!-- <div class="d-flex align-items-center mb-2">
        <span class="text-warning me-2">★★★★★</span>
        <span class="text-muted">(123 đánh giá)</span>
      </div> -->

      <h4 class="text-danger fw-bold mb-4">Giá: {{ product?.price | number:'1.0-0' }} VNĐ</h4>

      <!-- <div class="mb-4">
        <span class="fw-semibold me-2">Vận chuyển:</span>
        <span>Miễn phí vận chuyển toàn quốc</span>
      </div> -->

      <div class="mb-4">
        <span class="fw-semibold">Mô tả ngắn:</span>
        <p class="mt-2 text-muted">
         {{ product?.description }}
        </p>
      </div>

      <div class="mb-4">
        <span class="fw-semibold">Số lượng:</span>
        <div class="d-flex align-items-center mt-2">
          <button class="btn btn-outline-secondary"(click)="decreaseQuantity()">-</button>
          <input
            type="text"
            class="form-control text-center mx-2"
            style="width: 70px"
            [value]="quantity"
          />
          <button class="btn btn-outline-secondary" (click)="increaseQuantity()">+</button>
        </div>
      </div>

      <div class="d-flex gap-3 mt-4">
        <button class="btn btn-success btn-lg flex-fill" (click)="buyNow()">Mua ngay</button>
        <button class="btn btn-primary btn-lg flex-fill" (click)="addToCart(product?.id || 0, $event)">Thêm vào giỏ</button>
      </div>
    </div>
  </div>

  <!-- Product Details Section -->
  <!-- <div class="row mt-5">
    <div class="col-12">
      <h4 class="fw-bold mb-3">Chi tiết sản phẩm</h4>
      <div class="border rounded p-4 bg-light">
        <p class="mb-2"><strong>Thương hiệu:</strong> ABC Store</p>
        <p class="mb-2"><strong>Xuất xứ:</strong> Việt Nam</p>
        <p class="mb-2"><strong>Bảo hành:</strong> 12 tháng</p>
        <p class="mt-3 text-muted">
          Đây là phần mô tả chi tiết giống các trang thương mại điện tử lớn như
          Shopee/Tiki/Lazada... Bạn có thể đưa thông tin cấu hình, chất liệu,
          công nghệ, ưu điểm nổi bật...
        </p>
      </div>
    </div>
  </div> -->

  <!-- Related Products -->
  <!-- <div class="row mt-5">
    <h4 class="fw-bold mb-3">Sản phẩm gợi ý</h4>

    <div class="col-md-3 mb-4" *ngFor="let p of [1,2,3,4]">
      <div class="card h-100">
        <img src="https://dummyimage.com/300x300/eaeaea/444" class="card-img-top" />
        <div class="card-body">
          <h6 class="card-title">Sản phẩm liên quan</h6>
          <p class="text-danger fw-semibold">199.000đ</p>
        </div>
      </div>
    </div>
  </div> -->
</div>

<app-footer></app-footer>
